<!-- markdownlint-disable-next-line first-line-heading -->
#### Описание

В редакторе используется **внутренний сервер** высот, созданный из [Open Topo Data](https://www.opentopodata.org/) для определения высоты точки над уровнем моря, по координатам точки.  
Внутренний сервер не имеет ограничений по кол-ву точек для использования в редакторе.  
Запросы к серверу происходят последовательно, пакетами по 150 точек.

- Для загружаемых треков сохраняются оригинальные значения высот точек, если они указаны в треке.  
  Проверка на отсутствие высот в данном случае не производится.
- Для проверки и изменения высот точек трека, необходимо использовать инструмент Пересчитать высоты.
- При добавлении, редактировании точек трека, а также маркеров, определение высоты редактируемой точки происходит автоматически.
- Вы можете установить собственный сервис для определения высот, использовав [API-ключи](../api-keys.md) этих сервисов.

<!-- markdownlint-disable-next-line first-line-heading -->
#### Используемая модель

Для получения высот используется [Mapzen Terrain Tiles](https://github.com/tilezen/joerd/blob/master/docs/data-sources.md).  
Тайлы ландшафта Mapzen представляют собой глобальный набор данных DEM, включая батиметрию.  
Набор данных представляет собой ассимиляцию нескольких открытых наборов данных.

##### Базовые источники данных представляют собой сочетание

- [3DEP](https://nationalmap.gov/elevation.html) (ранее NED и NED Topobathy) в США, 10 метров за пределами Аляски, 3 метра в некоторых районах суши и территориальных вод
- [ArcticDEM](https://nga.maps.arcgis.com/apps/MapSeries/index.html?appid=cf2fba21df7540fb981f8836f2a97e25) из 5-метровой мозаики по всей земле к северу от 60° широты, включая Аляску, Канаду, Гренландию, Исландию, Норвегию, Россию и Швецию
- [CDEM](https://geogratis.gc.ca/api/en/nrcan-rncan/ess-sst/c40acfba-c722-4be1-862e-146b80be738e.html) (Canadian Digital Elevation Model) в Канаде с переменным пространственным разрешением (от 20 до 400 метров) в зависимости от широты
- [data.gov.uk](https://environment.data.gov.uk/ds/survey/index.jsp#/survey), 2 метра над большей частью Соединенного Королевства (UK)
- [data.gv.at](https://www.data.gv.at/katalog/dataset/b5de6975-417b-4320-afdb-eb2a9e2a1dbf), 10 метров над Австрией
- [ETOPO1](https://www.ngdc.noaa.gov/mgg/global/global.html) для батиметрии океана, глобальное разрешение 1 угловая минута
- [EUDEM](https://www.eea.europa.eu/data-and-maps/data/eu-dem#tab-original-data) в большей части Европы с разрешением 30 метров, включая Албанию, Австрию, Бельгию, Боснию и Герцеговину, Болгарию, Хорватию, Кипр, Чехию, Данию, Эстонию, Финляндию, Францию, Германию, Грецию, Венгрию, Исландию, Ирландию, Италию, Косово. , Латвия, Лихтенштейн, Литва, Люксембург, Македония, Мальта, Черногория, Нидерланды, Норвегия, Польша, Португалия, Румыния, Сербия, Словакия, Словения, Испания, Швеция, Швейцария и Великобритания
- Geoscience Australia's [DEM of Australia](https://ecat.ga.gov.au/geonetwork/srv/eng/search#!22be4b55-2465-4320-e053-10a3070a5236), 5 метров вокруг прибрежных районов Южной Австралии, Виктории и Северной территории
- [GMTED](https://topotools.cr.usgs.gov/gmted_viewer/) во всем мире, более грубое разрешение на 7,5 дюйма, 15 дюймов и 30 дюймов на суше
- [INEGI](https://en.www.inegi.org.mx/temas/mapas/relieve/continental/) в Мексике
- [Kartverket](https://kartverket.no/api-og-data/terrengdata), 10 метров над Норвегией
- [LINZ](https://data.linz.govt.nz/layer/1768-nz-8m-digital-elevation-model-2012/), 8 метров над Новой Зеландией
- [SRTM](https://lpdaac.usgs.gov/products/srtmgl1v003/) глобально, за исключением высоких широт, 30 метров (номинальное качество 90 метров) на суше

Какой именно набор данных используется для определения высот, зависит от многих факторов, в первую очередь от наличия более точных данных, масштабирования и других факторов.  

##### Покрытие и разрешение

Данные предоставляются с разрешением в 1 угловую секунду, что соответствует разрешению около 30 м на экваторе. Однако части набора данных интерполируются из наборов данных с более низким разрешением. Разрешение исходных наборов данных показано ниже:

|Разрешение исходных наборов данных Mapzen|
|:---:|
|![Image400](./../_media/external/mapzen.png)
|Источник: [github.com/tilezen/joerd](https://github.com/tilezen/joerd)

Подробнее с этой моделью получения данных можно ознакомиться [тут](https://github.com/tilezen/joerd/blob/master/docs/data-sources.md)
